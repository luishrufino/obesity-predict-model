# render.yaml
services:
  # Serviço da API Flask
  - type: web
    name: obesity-api
    env: docker
    repo: https://github.com/luishrufino/obesity-predict-model
    buildContext: ./api 
    dockerfilePath: ./api/Dockerfile
    plan: free

  # Serviço do App Streamlit
  - type: web
    name: obesity-streamlit-app
    env: docker
    repo: https://github.com/luishrufino/obesity-predict-model
    buildContext: ./streamlit 
    dockerfilePath: ./streamlit/Dockerfile
    plan: free
    envVars:
      - key: API_URL
        value: http://obesity-api:10000